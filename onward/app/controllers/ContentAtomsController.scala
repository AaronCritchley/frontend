package controllers

import common._
import conf._
import feed.{MostPopularAgent, GeoMostPopularAgent, DayMostPopularAgent}
import model._
import play.api.mvc.{ RequestHeader, Controller, Action }
import services.FaciaContentConvert
import scala.concurrent.Future
import play.api.libs.json.{JsObject, Json, JsArray}
import LiveContentApi.getResponse

object ContentAtomsController extends Controller with Logging with ExecutionContexts {

  def renderQuiz(quizId: String) = Action.async { implicit request =>

    Future.successful(JsonComponent(
      "id" -> "f5dc1146-d38f-44b2-906f-942c2746e32f",
      "type" -> "atom",
      "assets" -> Json.obj(
        "type" -> "quiz",
        "data" -> Json.parse("{\"id\":\"f5dc1146-d38f-44b2-906f-942c2746e32f\",\"quizType\":\"knowledge\",\"defaultColumns\":1,\"revealAtEnd\":true,\"createdAt\":1444735618241,\"updatedAt\":1445421705305,\"title\":\"Test quiz\",\"updatedBy\":\"christopher.lloyd@guardian.co.uk\",\"published\":false,\"createdBy\":\"sam.o'neill@guardian.co.uk\",\"content\":{\"questions\":[{\"questionText\":\"Brass is an alloy of which two metals?\",\"assets\":[],\"answers\":[{\"answerText\":\"Bronze and iron\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Copper and zinc\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Bronze and lead\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Copper and tin\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"A scalene is a type of what?\",\"assets\":[],\"answers\":[{\"answerText\":\"Blood cell\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Triangle\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Dinosaur\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Unit of measurement\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"Calculus is the study of what?\",\"assets\":[],\"answers\":[{\"answerText\":\"Change\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Function\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Probability\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Multiplication and division\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"What is a gerund?\",\"assets\":[],\"answers\":[{\"answerText\":\"A dinosaur\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"An adverb that can function as an adjective\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"A noun that can serve as a verb\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"A verb form that can function as a noun\",\"assets\":[],\"correct\":true,\"revealText\":\"\"}]},{\"questionText\":\"What is the free school set up by Toby Young called?\",\"assets\":[],\"answers\":[{\"answerText\":\"West London free school\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Bridge Avenue free school\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"West London academy\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Lord Snooty Young’s school for Swots Who Want to Learn Latin and Times Tables\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"According to the most up to date data (2012) how many primary schools are there in England?\",\"assets\":[],\"answers\":[{\"answerText\":\"12,575\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"17,998\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"24,372\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"32,345\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"Which of these is a Latin word for eat or taste?\",\"assets\":[],\"answers\":[{\"answerText\":\"Tango\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Vimto\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Sprite\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Tizer\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"Which of these battles did not take place in 1066?\",\"assets\":[],\"answers\":[{\"answerText\":\"Fulford\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Stamford Bridge\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Watling Street\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Hastings\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"What is widely thought to be the first of Shakespeare’s plays to be performed?\",\"assets\":[],\"answers\":[{\"answerText\":\"Cymbeline\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"The Comedy of Errors\",\"assets\":[],\"correct\":true,\"revealText\":\"\"},{\"answerText\":\"Henry VI Part 1\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Henry VI Part 2\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"Which country is this the flag of?\",\"assets\":[{\"type\":\"image\",\"data\":{\"elementType\":\"image\",\"fields\":{\"caption\":\"A worker steam cleans a Canadian flag in preparation for Mulcair's election night rally in Montreal<br>A worker steam cleans a Canadian flag in preparation for New Democratic Party (NDP) leader Tom Mulcair's election night rally in Montreal, Quebec, Canada, October 19, 2015. REUTERS/Jim Young\",\"photograper\":\"Jim Young\",\"altText\":\"\",\"source\":\"Reuters\",\"suppliersReference\":\"JEY12\",\"imageType\":\"Photograph\",\"displayCredit\":\"true\",\"mediaId\":\"1ebbd0ea41fd548117f1606cec63f94009e4926e\",\"mediaApiUri\":\"https://api.media.gutools.co.uk/images/1ebbd0ea41fd548117f1606cec63f94009e4926e\"},\"assets\":[{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/140.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/140.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":140,\"height\":84,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/500.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/500.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":500,\"height\":300,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/1000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/1000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":1000,\"height\":601,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/2000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/2000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":2000,\"height\":1202,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/3500.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/3500.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":3500,\"height\":2103,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/master/3500.jpg\",\"secureUrl\":\"https://media.guim.co.uk/1ebbd0ea41fd548117f1606cec63f94009e4926e/0_51_3500_2103/master/3500.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":3500,\"height\":2103,\"isMaster\":true}}]}}],\"answers\":[{\"answerText\":\"South Korea\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Canada\",\"assets\":[],\"correct\":true,\"revealText\":\"OF COURSE IT'S CANADA\"},{\"answerText\":\"Bhutan\",\"assets\":[],\"correct\":false,\"revealText\":\"\"},{\"answerText\":\"Sri Lanka\",\"assets\":[],\"correct\":false,\"revealText\":\"\"}]},{\"questionText\":\"How many VW cars are affected by the emissions defeat-device recall in the UK?\",\"assets\":[],\"answers\":[{\"questionText\":\"\",\"assets\":[],\"answers\":[],\"answerText\":\"1,189,906*\\n\",\"correct\":true},{\"questionText\":\"\",\"assets\":[],\"answers\":[],\"answerText\":\"939,424\\n\"},{\"questionText\":\"\",\"assets\":[],\"answers\":[],\"answerText\":\"893,152\\n\"},{\"questionText\":\"\",\"assets\":[],\"answers\":[],\"answerText\":\"1,334,323\"}]},{\"questionText\":\"Which of these is a shark\",\"assets\":[],\"answers\":[{\"questionText\":\"\",\"assets\":[{\"type\":\"image\",\"data\":{\"elementType\":\"image\",\"fields\":{\"caption\":\"Great White Sharks\",\"photograper\":\"David Fleetham / Barcroft India\",\"altText\":\"\",\"source\":\"David Fleetham / Barcroft India\",\"copyright\":\"David Fleetham / Barcroft India\",\"suppliersReference\":\"206570\",\"imageType\":\"Photograph\",\"displayCredit\":\"true\",\"mediaId\":\"72c7a2b9ca6e585041a6d284c5e87baee8c5ea38\",\"mediaApiUri\":\"https://api.media.gutools.co.uk/images/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38\"},\"assets\":[{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/2000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/2000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":2000,\"height\":1201,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/1000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/1000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":1000,\"height\":600,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/500.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/500.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":500,\"height\":300,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/140.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/140.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":140,\"height\":84,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/2598.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/2598.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":2598,\"height\":1560,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/master/2598.jpg\",\"secureUrl\":\"https://media.guim.co.uk/72c7a2b9ca6e585041a6d284c5e87baee8c5ea38/202_150_2598_1560/master/2598.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":2598,\"height\":1560,\"isMaster\":true}}]}}],\"answers\":[],\"correct\":true,\"answerText\":\"This?\",\"revealText\":\"Fun fact: Sharks tend to live underwater\"},{\"questionText\":\"\",\"assets\":[{\"type\":\"image\",\"data\":{\"elementType\":\"image\",\"fields\":{\"caption\":\"Short-eared Elephant Shrew\",\"photograper\":\"Juniors Bildarchiv GmbH / Alamy\",\"altText\":\"\",\"source\":\"Alamy\",\"copyright\":\"© Juniors Bildarchiv GmbH / Alamy\",\"suppliersReference\":\"BMJPF7\",\"imageType\":\"Photograph\",\"displayCredit\":\"true\",\"mediaId\":\"6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6\",\"mediaApiUri\":\"https://api.media.gutools.co.uk/images/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6\",\"picdarUrn\":\"GD*30872664\"},\"assets\":[{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/2000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/2000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":2000,\"height\":1199,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/1000.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/1000.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":1000,\"height\":600,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/500.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/500.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":500,\"height\":300,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/140.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/140.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":140,\"height\":84,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/5230.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/5230.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":5230,\"height\":3136,\"isMaster\":false}},{\"assetType\":\"image\",\"url\":\"http://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/master/5230.jpg\",\"secureUrl\":\"https://media.guim.co.uk/6b8aae6d3f2c0115fabd2da7583e69a1c5663cb6/0_0_5230_3136/master/5230.jpg\",\"mimeType\":\"image/jpeg\",\"fields\":{\"width\":5230,\"height\":3136,\"isMaster\":true}}]}}],\"answers\":[],\"correct\":false,\"answerText\":\"or This?\"}]},{\"questionText\":\"\",\"assets\":[],\"answers\":[]},{\"questionText\":\"\",\"assets\":[],\"answers\":[]},{\"questionText\":\"\",\"assets\":[],\"answers\":[]},{\"questionText\":\"\",\"assets\":[],\"answers\":[]}],\"resultGroups\":{\"groups\":[{\"title\":null,\"share\":\"I got _/_ in <quiz title>\",\"minScore\":1}]}}}")
      )
    ))
  }
}
